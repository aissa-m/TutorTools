(()=>{const e="../../backEnd/php/";document.addEventListener("DOMContentLoaded",(function(){fetch(e+"getStudents_back.php").then((e=>e.json())).then((e=>{if(e.success){const t=document.getElementById("contenedor-alumnos");t.innerHTML="",e.alumnos.forEach((e=>{const n=`\n                      <div class="col-md-4 mb-4 tarjeta-alumno">\n                          <div class="card" style="background-color: rgba(0, 0, 0, 0.2);" onclick="verDetallesAlumno(${e.id})">\n                              <div class="card-body">\n                                  <h5 class="card-title">${e.nombre}</h5>                                \n                              </div>\n                          </div>\n                      </div>\n                  `;t.insertAdjacentHTML("beforeend",n)}))}else document.getElementById("titulo").innerText="No hay datos todavia!"})).catch((e=>{console.error("Error:",e)}))})),document.addEventListener("DOMContentLoaded",(function(){var t=new bootstrap.Modal(document.getElementById("modalAgregarAlumno"),{keyboard:!1});document.getElementById("btnAbrirModal").addEventListener("click",(function(){t.show()}));const n=document.getElementById("formAgregarAlumno");localStorage.getItem("id");n.addEventListener("submit",(function(o){o.preventDefault();var a=new FormData(n);fetch(e+"nuevoAlumno.php",{method:"POST",body:a}).then((e=>e.json())).then((e=>{e.success?(t.hide(),document.querySelector("#modalAgregarAlumno").remove(),location.href="alumnos.html",n.reset()):alert("Error al aÃ±adir alumno")})).catch((e=>{console.error("Error:",e),alert("Error al enviar los datos")}))}));const o=document.getElementById("telefonoAlumno"),a=document.getElementById("btnGuardarAlumno");o.addEventListener("input",(function(){var e=this.value;if(/^\+?[0-9]*$/.test(e)){var t=e.replace(/\D/g,"");e.startsWith("+"),t.length>=7&&t.length<=15||0===e.length?(this.classList.remove("is-invalid"),this.classList.add("is-valid"),a.disabled=!1):(this.classList.remove("is-valid"),this.classList.add("is-invalid"),a.disabled=!0)}else this.value=e.substring(0,e.length-1)}))}))})();